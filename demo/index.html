<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--<meta http-equiv="refresh" content="0;URL=2.x/demo/index.html">-->
    <link rel="stylesheet" href="layui/css/layui.css">
    <link rel="stylesheet" href="../treeTable.css">
</head>
<body>
<div class="layui-container">
    <table id="demoTb"></table>
</div>
<script src="layui/layui.js"></script>
<script>
    layui.config({
        base: '../'
    }).use(['layer', 'treeTable'], function () {
        var $ = layui.jquery;
        var treeTable = layui.treeTable;

        // 渲染表格
        var insTb = treeTable.render({
            elem: '#demoTb',
            /*width: '500px',*/
            /*height: '200px',*/
            toolbar: 'default',
            tree: {
                isPidData: true,
                iconIndex: 2,
                arrowType: 'arrow2',
                getIcon: function (d) {
                    var haveChild = d[this.haveChildName];
                    if (haveChild !== undefined) haveChild = haveChild === true || haveChild === 'true';
                    else if (d[this.childName]) haveChild = d[this.childName].length > 0;
                    if (haveChild) return '<i class="ew-tree-icon ew-tree-icon-folder"></i>';
                    else return '<i class="ew-tree-icon ew-tree-icon-file"></i>';
                }
            },
            cols: [
                [
                    {title: 'cc', colspan: 9}
                ],
                [
                    {type: 'numbers', title: '#', fixed: 'left'},
                    {type: 'checkbox', fixed: 'left'},
                    {field: 'id', title: 'ID'/*, minWidth: 250*/},
                    {field: 'name', title: 'name', hide: true},
                    {field: 'sex', title: '创建时间', hide: true},
                    {field: 'name', title: 'name', hide: true},
                    {field: 'sex', title: '创建时间', hide: true},
                    {field: 'name', title: 'name'},
                    {field: 'sex', title: '创建时间'}
                ]
            ],
            reqData: function (d, callback) {
                $.get('json/data.json', function (res) {
                    setTimeout(function () {
                        callback(res.data);
                    }, 1500);
                });
            }
        });
        //console.log(insTb);

    });
</script>
</body>
</html>